<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>SpringBoot</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog Template">
    <meta name="author" content="Xiaoying Riley at 3rd Wave Media">
	<!--显示小图标，目前显不出来，bug！！-->
<!--    <link rel="shortcut icon" href="favicon.ico">-->
    
    <!-- 字体 JS-->
	<script defer th:src="@{/fontawesome/js/all.js/all.min.js}"></script>
    
    <!-- 插件 CSS -->
    <link rel="stylesheet" th:href="@{/plugins/highlight/styles/monokai-sublime.css}">
    
    <!-- 主题 CSS -->
    <link id="theme-style" rel="stylesheet" th:href="@{/css/theme-4.css}">

</head> 

<body>
    
    <!--左侧部分-->
	<div th:replace="~{/commons/commons::header_bar(active='blog-post')}"></div>
    
    <div class="main-wrapper">

        <div>
            <div style='width:25%;'>
                <ul id="tree" class="ztree" style='width:100%'>

                </ul>
            </div>
            <div id='readme' style='width:70%;margin-left:20%;'>
                <article class='markdown-body'>
                    <h1 id="-">微服务阶段</h1>
                    <p>javase: OOP</p>
                    <p>mysql: 持久化</p>
                    <p>html+css+Vue: 视图</p>
                    <p>javaweb: 独立开发MVC三层架构的网站了: 原始</p>
                    <p>ssm: 框架：简化了我们的开发流程，配置也开始较为复杂</p>
                    <p><strong>war: tomcat运行</strong></p>
                    <p>spring再简化：SpringBoot；微服务架构！</p>
                    <p><strong>jar:内嵌tomcat</strong></p>
                    <p>服务越来越多：springcloud</p>
                    <h1 id="1-spring-boot">1、什么是Spring Boot</h1>
                    <p>就是一个javaweb的开发框架，和Spring MVC类似，对比其他javaweb框架的好处，就是简化开发。约定大于配置</p>
                    <p>spring boot整合了所有的框架 </p>
                    <p>主要优点</p>
                    <ul>
                        <li>为所有Spring开发者更快的入门</li>
                        <li>开箱即用，提供各种默认配置简化项目配置</li>
                        <li>内嵌式容器简化Web项目</li>
                        <li>没有冗余代码生成和XML配置的要求</li>
                    </ul>
                    <h1 id="2-">2、什么是微服务架构</h1>
                    <p>是一种架构风格、他要求我们在开发一个应用的时候，这个应用必须构建成一系列小服务的组合；可以通过http的方式进行互通。</p>
                    <p><strong>单体应用架构</strong></p>
                    <p>是指我们将一个应用中的所有应用服务，都封装在一个应用中</p>
                    <p>优点：易于开发和测试</p>
                    <p><strong>微服务架构</strong></p>
                    <p>把每个功能元素独立出来，把独立出来的功能元素动态组合，需要的功能元素才去拿来组合，需要多一些时，可以整合多个功能元素。所以微服务架构是对功能元素进行复制，而没有对整个应用进行复制。</p>
                    <p>优点：节省了调用资源。每个功能元素的服务都是一个可替换的、可独立升级的软件代码。</p>
                    <h1 id="3-springboot-">3、第一个SpringBoot程序</h1>
                    <p>环境：</p>
                    <ul>
                        <li>jdk1.8</li>
                        <li>maven 3.6.1</li>
                        <li>springboot 最新版</li>
                        <li>idea</li>
                    </ul>
                    <p>官方提供了一个快速生成的网站！idea集成了这个网站</p>
                    <ul>
                        <li>直接使用idea创建一个SpringBoot项目即可</li>
                    </ul>
                    <p>首先在pom.xml中，进行相关依赖的配置</p>
                    <pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;!--有一个父项目--&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;2.7.10&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo1&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;demo1&lt;/name&gt;
    &lt;description&gt;demo1&lt;/description&gt;
    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;!--web依赖：tomcat，dispatcherServlet，xml...--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--spring-boot-starter 所有的springboot依赖都是使用这个开头的--&gt;
        &lt;!--单元测试--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;!--打jar包插件--&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.7.0&lt;/version&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre>
                    <p>在com.yin.helloworld下创建pojo、dao、controller、service包，都放在与Demo1Application.java相同的包下（约定！！！）</p>
                    <p>在controller包下，实例化一个HelloController类，编写一个hello接口</p>
                    <pre><code class="lang-java">package com.yin.helloworld.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

//自动装配：原理！
@RestController
public class HelloController {

    //接口 http://localhost:8080/hello
    @RequestMapping(&quot;/hello&quot;)
    public String hello() {
        //调用业务，接收前端的参数
        return &quot;hello,world&quot;;
    }

}
</code></pre>
                    <p>最后执行Demo1Application.java类，中的main方法，就可以成功执行（比springMVC少了一堆配置！简单多了！）</p>
                    <p><strong>修改端口号</strong></p>
                    <p>在application.properties文件，写这个就可以修改端口号</p>
                    <pre><code class="lang-properties"># 更改项目的端口号
server.port=8081
</code></pre>
                    <h1 id="4-springboot-">4、SpringBoot自动装配原理</h1>
                    <p>在pom.xml中的</p>
                    <ul>
                        <li>spring-boot-dependencies：核心依赖在父工程中！</li>
                        <li>我们在写或者引入一些SpringBoot依赖的时候，不需要指定版本，就因为有这些版本仓库</li>
                    </ul>
                    <p>启动器</p>
                    <ul>
                        <li><pre><code class="lang-xml">&lt;!--启动器--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
                        </li>
                        <li><p>启动器：说白了就是SpringBoot的启动场景</p>
                        </li>
                        <li>比如spring-boot-starter-web，他就会帮我们自动导入web环境所有的依赖！</li>
                        <li>springboot会将所有的功能场景，都变成一个个的启动器</li>
                        <li>我们要使用什么功能，就只需要找到相对应的启动器就可以了</li>
                    </ul>
                    <p>主程序</p>
                    <pre><code class="lang-java">package com.yin.helloworld;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

//程序的主入口，本身就是Spring的一个组件
@SpringBootApplication  //标注这个类是一个SpringBoot的应用
public class Demo1Application {

    public static void main(String[] args) {
        //将SpringBoot应用启动
        SpringApplication.run(Demo1Application.class, args);
    }

}
</code></pre>
                    <p>注解</p>
                    <ul>
                        <li><pre><code class="lang-java">@SpringBootConfiguration    //SpringBoot的配置
    @Configuration    //spring配置类
    @Component    //说明他是个spring组件

@EnableAutoConfiguration    //自动配置
    @AutoConfigurationPackage    //自动配置包
        @Import({AutoConfigurationPackages.Registrar.class}) //自动配置&#39;包注册&#39;
    @Import({AutoConfigurationImportSelector.class})  //自动配置导入选择

//获取所有的配置
List&lt;String&gt; configurations = this.getCandidateConfigurations(annotationMetadata, attributes);
</code></pre>
                        </li>
                    </ul>
                    <p>获取候选的配置</p>
                    <pre><code class="lang-java">protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {
        List&lt;String&gt; configurations = new ArrayList(SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader()));
        ImportCandidates.load(AutoConfiguration.class, this.getBeanClassLoader()).forEach(configurations::add);
        Assert.notEmpty(configurations, &quot;No auto configuration classes found in META-INF/spring.factories nor in META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports. If you are using a custom packaging, make sure that file is correct.&quot;);
        return configurations;
    }
</code></pre>
                    <p>META-INF/spring.factories : 自动配置的核心文件</p>
                    <p>结论：springboot 所有自动装配都是在启动的时候扫描并加载的：spring.factories所有的自动配置类都在这里面，但是不一定生效，要判断条件是否成立，只要导入了对应的start，就有对应的启动器了，有了启动器，我们自动装配就会生效，然后就配置成功了。</p>
                    <p><strong>执行步骤</strong></p>
                    <ul>
                        <li>springboot在启动的时候，从类路径下/META-INF/spring.factories获取指定的值</li>
                        <li>将这些自动配置的类导入容器，自动配置就会生效，帮我们进行自动配置</li>
                        <li>以前我们需要自动配置的东西，现在springboot帮我们做了</li>
                        <li>整合javaEE，解决方案和自动配置的东西都在 spring-boot-autoconfigure-2.2.0.RELEASE.jar这个包下</li>
                        <li>他会把所有需要导入的组件，以类名的方式返回，这些组件就会被添加到容器</li>
                        <li>容器中也会存在非常多的xxxAutoConfiguration的文件，就是这些类给容器中导入了这个场景需要的所有组件;并自动配置，@Configuration，JavaConfig !</li>
                        <li>有了自动配置类，免去了我们手动编写配置注入功能组件等的工作</li>
                    </ul>
                    <h1 id="5-">5、主启动类运行分析</h1>
                    <p>最初认为就是运行了一个main方法，没想到是开启了一个服务</p>
                    <pre><code class="lang-java">package com.yin.helloworld;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

//程序的主入口，本身就是Spring的一个组件
@SpringBootApplication  //标注这个类是一个SpringBoot的应用
public class Demo1Application {

    public static void main(String[] args) {
        //将SpringBoot应用启动
        SpringApplication.run(Demo1Application.class, args);
    }

}
</code></pre>
                    <p>分析该方法主要分为两部分，一部分是SpringApplication的实例化，另一部分是run方法的执行</p>
                    <p><strong>SpringApplication</strong></p>
                    <p>主要做了以下四件事情</p>
                    <ul>
                        <li>推断应用的类型是普通的项目还是Web项目</li>
                        <li>查找并加载所有可用初始化器，设置到initializers属性中</li>
                        <li>找出所有的应用程序监听器，设置到listeners属性中</li>
                        <li>推断并设置main方法的定义类，找到运行的主类</li>
                    </ul>
                    <h1 id="6-yaml-">6、yaml语法</h1>
                    <p>SpringBoot使用一个全局的配置文件，配置文件名称是固定的</p>
                    <ul>
                        <li>application.properties<ul>
                            <li>语法结构：key=value</li>
                        </ul>
                        </li>
                        <li>application.yml<ul>
                            <li>语法结构：key: 空格 value</li>
                        </ul>
                        </li>
                    </ul>
                    <p>配置文件的作用：修改SpringBoot自动配置的默认值，因为SpringBoot在底层都给我们自动配置好了</p>
                    <p>yaml中可以封装对象，使用@Value就不可以</p>
                    <p><strong>yaml配置</strong></p>
                    <pre><code class="lang-yaml">server:
    port: 8080
</code></pre>
                    <p><strong>xml配置</strong></p>
                    <pre><code class="lang-xml">&lt;server&gt;
    &lt;port&gt;8081&lt;/port&gt;
&lt;/server&gt;
</code></pre>
                    <p><strong>基本语法</strong></p>
                    <pre><code class="lang-yaml"># 对空格的要求十分高
# 可以注入到我们的配置类中

# 普通的key-value
name: yth

#对象
student:
  name: yth
  age: 18

#行内写法
student: {name: yth,age: 12}

#数组
pets:
  - cat
  - dog
  - pig

pets: [cat,dog,pig]
</code></pre>
                    <p><strong>通过yaml给属性赋值</strong></p>
                    <p>在yaml文件中，属性名称要与实体类中的名称一一对应，否则赋不上值，显示为null</p>
                    <pre><code class="lang-yaml">person:
  name: xiaomeng
  age: 19
  happy: false
  birth: 2001/09/02
  map: {k1: v1,k2: v2}
  list:
    - code
    - music
    - xiaoyin
  dog:
    name: huanhuan
    age: 3
</code></pre>
                    <p>Person实体类</p>
                    <p>通过@ConfigurationProperties(prefix = &quot;person&quot;)进行属性值的注入</p>
                    <pre><code class="lang-java">package com.yin.helloworld.pojo;

@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
@Component
@ConfigurationProperties(prefix = &quot;person&quot;) //可与yaml中的设置好的属性绑定
public class Person {
    private String name;
    private int age;
    private boolean happy;
    private String birth;
    private Map&lt;String, Object&gt; map;
    private List&lt;Object&gt; list;
    private Dog dog;

    @Override
    public String toString() {
        return &quot;Person{&quot; +
                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, age=&quot; + age +
                &quot;, happy=&quot; + happy +
                &quot;, birth=&quot; + birth +
                &quot;, map=&quot; + map +
                &quot;, list=&quot; + list +
                &quot;, dog=&quot; + dog +
                &#39;}&#39;;
    }
}
</code></pre>
                    <h1 id="7-jsr303-">7、松散绑定，JSR303数据校验</h1>
                    <p><strong>松散绑定</strong></p>
                    <p>在yaml中写的last-name这个和实体类中的lastName是一样的，这就是松散绑定</p>
                    <p><strong>JSR303校验</strong></p>
                    <p>这就是我们可以在字段增加一层过滤器验证，可以保证数据的合法性</p>
                    <p>spring-boot中可以用@validated来校验数据，如果数据异常则会统一抛出异常，方便异常中心统一处理。</p>
                    <p>需要先导入依赖</p>
                    <pre><code class="lang-xml">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
    &lt;version&gt;2.7.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
                    <p>在Person实体类中，给name属性加一个Email校验，如果name输入的不是email则报错</p>
                    <pre><code class="lang-java">package com.yin.helloworld.pojo;

@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
@Component
@ConfigurationProperties(prefix = &quot;person&quot;) //可与yaml中的设置好的属性绑定
@Validated //数据校验
public class Person {
    @Email() //email校验
    private String name;
    private int age;
    private boolean happy;
    private String birth;
    private Map&lt;String, Object&gt; map;
    private List&lt;Object&gt; list;
    private Dog dog;

    @Override
    public String toString() {
        return &quot;Person{&quot; +
                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, age=&quot; + age +
                &quot;, happy=&quot; + happy +
                &quot;, birth=&quot; + birth +
                &quot;, map=&quot; + map +
                &quot;, list=&quot; + list +
                &quot;, dog=&quot; + dog +
                &#39;}&#39;;
    }
}
</code></pre>
                    <h1 id="8-">8、多环境配置</h1>
                    <p>在application.yaml中，编写如下配置，便可以选择一个yaml文件激活</p>
                    <pre><code class="lang-yaml">spring:
  profiles:
    active: test #这里选择激活的文件是application-test.yaml文件
</code></pre>
                    <p>application-test.yaml，若设置端口为8081，则会开启8081端口</p>
                    <pre><code class="lang-yaml">server:
  port: 8081
</code></pre>
                    <h1 id="9-springboot-web-">9、SpringBoot Web开发</h1>
                    <p><strong>总结</strong></p>
                    <ul>
                        <li>在SpringBoot，我们可以使用以下方式处理静态资源<ul>
                            <li>webjars  localhost:8080/webjars/</li>
                            <li>public, static, /**, resources   localhost:8080/</li>
                        </ul>
                        </li>
                        <li>优先级:  resources&gt;static（默认）&gt;public</li>
                    </ul>
                    <h1 id="10-thymeleaf-"><strong>10、Thymeleaf模板引擎</strong></h1>
                    <p>模板引擎有非常多，jsp，freemarker，Thymeleaf。他们的思想都是一样的</p>
                    <p>模板引擎的作用就是我们来写一个页面模板，比如有些值是动态的，我们写一些表达式。而这些值，我们组装一些数据，把这些数据找到。然后把这个模板和这个数据交给我们的模板引擎，模板引擎按照我们这个数据帮你把表达式解析，填充我们指定的位置，然后把这个数据最终生成一个我们想要的内容给我们写出去。</p>
                    <p><strong>要使用Thymeleaf，只需要导入相对应的依赖就可以了，然后将html页面放入到templates目录下即可！就可以在Controller包下写实体类，写接口访问</strong></p>
                    <p>首先在pom.xml中进行配置</p>
                    <pre><code class="lang-xml">&lt;!--导入Thymeleaf--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;
    &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;
    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
                    <p>test.htm</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;!--使用thymeleaf时，需要在头部加配置   xmlns:th=&quot;http://www.thymeleaf.org&quot;--&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;test&lt;/h1&gt;
&lt;!--所有的html元素都可以被 thymeleaf 替换接管  th: 元素名--&gt;
&lt;div th:text=&quot;${msg}&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
                    <p>Thymeleaf 语法</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;test&lt;/h1&gt;
&lt;!--所有的html元素都可以被 thymeleaf 替换接管  th: 元素名--&gt;
    &lt;!--展示内容--&gt;
&lt;div th:text=&quot;${msg}&quot;&gt;&lt;/div&gt;
&lt;!--取的msg，users都是从接口处获得的--&gt;
    &lt;!--for循环遍历--&gt;
&lt;div th:each=&quot;user:${users}&quot; th:text=&quot;${user}&quot;&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
                    <pre><code class="lang-java">//接口的代码
@RequestMapping(&quot;/test&quot;)
public String index(Model model) {
    model.addAttribute(&quot;msg&quot;,&quot;你好！&quot;);

    model.addAttribute(&quot;users&quot;, Arrays.asList(&quot;yth&quot;,&quot;meng&quot;));
    return &quot;test&quot;;
}
</code></pre>
                    <h1 id="11-springboot-">11、修改SpringBoot的默认配置</h1>
                    <p>这么多的自动配置，原理都是一样的，通过这个WebMVC的自动配置原理分析，我们要学会一种学习方式，通过源码探究，得出结论</p>
                    <p>SpringBoot在自动配置很多组件的时候，先看容器中有没有用户自己配置的，如果有就用用户配置的，如果没有就用自动配置的。如果有些组件可以存在多个，比如视图解析器，就将用户配置的和自己默认的组合起来！</p>
                    <p>创建MyMvcConfig类</p>
                    <ul>
                        <li>实现WebMvcConfigurer接口</li>
                        <li>重写需要修改的方法（addViewControllers这个是视图跳转）</li>
                    </ul>
                    <pre><code class="lang-java">//如果我们要扩展SpringMVC，官方建议我们这样去做！
@Configuration
public class MyMvcConfig implements WebMvcConfigurer {
    //视图跳转
    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        //WebMvcConfigurer.super.addViewControllers(registry);
        registry.addViewController(&quot;/yin&quot;).setViewName(&quot;test&quot;);
    }
}
</code></pre>
                    <p>在springboot中，有非常多的 xxx Configuration 帮助我们进行扩展配置，只要看见了这个东西，我们就要注意它扩展了什么功能！</p>
                    <h1 id="12-">12、员工管理系统：首页配置、国际化</h1>
                    <p>首页配置：（使用@{}）</p>
                    <p>注意点，所有页面的静态资源都需要使用thymeleaf接管;</p>
                    <ul>
                        <li>将需要的html文件，都放入templates文件夹下</li>
                        <li>路径：将html所需的css，img，js文件均放入到static文件夹下，写路径时@{/css/signin.css}，不需要写static，直接写下一级文件夹名称即可</li>
                        <li>在applicationContext.yaml中写入如下配置</li>
                    </ul>
                    <pre><code class="lang-yaml"># 关闭模板引擎的缓存
spring:
  thymeleaf:
    cache: false
</code></pre>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
   &lt;head&gt;
      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
      &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
      &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;
      &lt;title&gt;登陆&lt;/title&gt;
      &lt;!-- Bootstrap core CSS --&gt;
       &lt;!--这里的路径都是动态拼接成的--&gt;
      &lt;link th:href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;&gt;
      &lt;!-- Custom styles for this template --&gt;
      &lt;link th:href=&quot;@{/css/signin.css}&quot; rel=&quot;stylesheet&quot;&gt;
   &lt;/head&gt;

   &lt;body class=&quot;text-center&quot;&gt;
      &lt;form class=&quot;form-signin&quot; action=&quot;dashboard.html&quot;&gt;
         &lt;img class=&quot;mb-4&quot; th:src=&quot;@{/img/bootstrap-solid.svg}&quot; alt=&quot;&quot; width=&quot;72&quot; height=&quot;72&quot;&gt;
         &lt;h1 class=&quot;h3 mb-3 font-weight-normal&quot; th:text=&quot;#{login.tip}&quot;&gt;Please sign in&lt;/h1&gt;
         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:placeholder=&quot;#{login.username}&quot; required=&quot;&quot; autofocus=&quot;&quot;&gt;
         &lt;input type=&quot;password&quot; class=&quot;form-control&quot; th:placeholder=&quot;#{login.password}&quot; required=&quot;&quot;&gt;
         &lt;div class=&quot;checkbox mb-3&quot;&gt;
            &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; value=&quot;remember-me&quot;&gt; [[#{login.remember}]]
        &lt;/label&gt;
         &lt;/div&gt;
         &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;[[#{login.btn}]]&lt;/button&gt;
         &lt;p class=&quot;mt-5 mb-3 text-muted&quot;&gt;© 2023-2024&lt;/p&gt;
         &lt;a class=&quot;btn btn-sm&quot; th:href=&quot;@{/index.html(l=&#39;zh_CN&#39;)}&quot;&gt;中文&lt;/a&gt;
         &lt;a class=&quot;btn btn-sm&quot; th:href=&quot;@{/index.html(l=&#39;en_US&#39;)}&quot;&gt;English&lt;/a&gt;
      &lt;/form&gt;

   &lt;/body&gt;

&lt;/html&gt;
</code></pre>
                    <p>修改SpringBoot的默认配置：</p>
                    <ul>
                        <li>创建config文件夹，创建MyMvcConfig和MyLocaleResolver两个类</li>
                    </ul>
                    <pre><code class="lang-java">@Configuration
public class MyMvcConfig implements WebMvcConfigurer {

    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        //重写视图转发器，当请求 / 的时候，转到index.html网站，否则无法加载出来css等资源
        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);
        registry.addViewController(&quot;/index.html&quot;).setViewName(&quot;index&quot;);
    }

    //自定义的国际化组件就生效了
    @Bean
    public LocaleResolver localeResolver() {
        return new MyLocaleResolver();
    }
}
</code></pre>
                    <pre><code class="lang-java">public class MyLocaleResolver implements LocaleResolver {

    //解析请求，完成页面国际化操作，就是可以点击切换显示的语言
    @Override
    public Locale resolveLocale(HttpServletRequest request) {
        //获取请求
        String language = request.getParameter(&quot;l&quot;);
        //如果没有就使用默认的
        Locale locale = Locale.getDefault();
        //如果请求的链接携带了地区化的参数
        if (!StringUtils.isEmpty(language)) {
            //zh_CN
            String[] split = language.split(&quot;_&quot;);
            //国家，地区
            locale = new Locale(split[0], split[1]);
        }

        return locale;
    }

    @Override
    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {

    }
}
</code></pre>
                    <p>完成国际化操作，还需要在resources文件夹下，创建一个i18n文件夹，里边创建以下文件</p>
                    <ul>
                        <li>login.properties</li>
                    </ul>
                    <pre><code class="lang-properties">login.btn=登陆
login.password=密码
login.remember=记住我
login.tip=请登录
login.username=用户名
</code></pre>
                    <ul>
                        <li>login_en_US.properties</li>
                    </ul>
                    <pre><code class="lang-properties">login.btn=Sign in
login.password=password
login.remember=Remember me
login.tip=Please sign in
login.username=Username
</code></pre>
                    <ul>
                        <li>login_zh_CN.properties</li>
                    </ul>
                    <pre><code class="lang-properties">login.btn=登陆
login.password=密码
login.remember=记住我
login.tip=请登录
login.username=用户名
</code></pre>
                    <p>总结：</p>
                    <p>页面国际化：（使用#{}）</p>
                    <ul>
                        <li>我们需要配置i18n文件</li>
                        <li>我们如果需要在项目中进行按钮自动切换，我们需要自定义一个组件LocaleResolver</li>
                        <li>记得将自己写的组件配置到spring容器</li>
                    </ul>
                    <pre><code class="lang-java">//自定义的国际化组件就生效了
@Bean
public LocaleResolver localeResolver() {
    return new MyLocaleResolver();
}
</code></pre>
                    <h1 id="13-">13、员工管理系统：登陆功能实现</h1>
                    <p>首先，将登陆界面，点击登陆按钮的跳转链接改为thymeleaf形式</p>
                    <p>th:action=&quot;@{/user/login}&quot;</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
    &lt;head&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;
        &lt;title&gt;登陆&lt;/title&gt;
        &lt;!-- Bootstrap core CSS --&gt;
        &lt;link th:href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;&gt;
        &lt;!-- Custom styles for this template --&gt;
        &lt;link th:href=&quot;@{/css/signin.css}&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;/head&gt;

    &lt;body class=&quot;text-center&quot;&gt;
        &lt;form class=&quot;form-signin&quot; th:action=&quot;@{/user/login}&quot;&gt;
            &lt;img class=&quot;mb-4&quot; th:src=&quot;@{/img/bootstrap-solid.svg}&quot; alt=&quot;&quot; width=&quot;72&quot; height=&quot;72&quot;&gt;
            &lt;h1 class=&quot;h3 mb-3 font-weight-normal&quot; th:text=&quot;#{login.tip}&quot;&gt;Please sign in&lt;/h1&gt;
            &lt;!--如果msg的值为空，则不显示消息--&gt;
            &lt;p style=&quot;color: red&quot; th:text=&quot;${msg}&quot; th:if=&quot;${not #strings.isEmpty(msg)}&quot;&gt;&lt;/p&gt;

            &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control&quot; th:placeholder=&quot;#{login.username}&quot; required=&quot;&quot; autofocus=&quot;&quot;&gt;
            &lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; th:placeholder=&quot;#{login.password}&quot; required=&quot;&quot;&gt;
            &lt;div class=&quot;checkbox mb-3&quot;&gt;
                &lt;label&gt;
          &lt;input type=&quot;checkbox&quot; value=&quot;remember-me&quot;&gt; [[#{login.remember}]]
        &lt;/label&gt;
            &lt;/div&gt;
            &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;[[#{login.btn}]]&lt;/button&gt;
            &lt;p class=&quot;mt-5 mb-3 text-muted&quot;&gt;© 2023-2024&lt;/p&gt;
            &lt;a class=&quot;btn btn-sm&quot; th:href=&quot;@{/index.html(l=&#39;zh_CN&#39;)}&quot;&gt;中文&lt;/a&gt;
            &lt;a class=&quot;btn btn-sm&quot; th:href=&quot;@{/index.html(l=&#39;en_US&#39;)}&quot;&gt;English&lt;/a&gt;
        &lt;/form&gt;

    &lt;/body&gt;

&lt;/html&gt;
</code></pre>
                    <p>在controller包下创建实体类LoginController，用于实现上面写的/user/login接口</p>
                    <p>用户的登陆，只要账号不为空，密码是123456就可以登陆成功</p>
                    <pre><code class="lang-java">@Controller
public class LoginController {

    @RequestMapping(&quot;/user/login&quot;)
    public String login(@RequestParam(&quot;username&quot;) String username,
                        @RequestParam(&quot;password&quot;) String password,
                        Model model) {
        //具体的业务
        if (!StringUtils.isEmpty(username) &amp;&amp; password.equals(&quot;123456&quot;)) {
            return &quot;redirect:/main.html&quot;;
        }else {
            //登陆失败
            model.addAttribute(&quot;msg&quot;,&quot;密码错误!!!&quot;);
            return &quot;index&quot;;
        }
    }
}
</code></pre>
                    <p>return &quot;redirect:/main.html&quot;;</p>
                    <p>这里重定向的main.html，并不是一个html页面，而是修改了SpringBoot的默认方法，将该请求跳转到一个已经存在的静态html页面，并且url显示的是main.html，为了美观</p>
                    <p>在MyMvcConfig类中进行映射配置</p>
                    <pre><code class="lang-java">//配置了所有的映射资源
@Configuration
public class MyMvcConfig implements WebMvcConfigurer {

    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        //重写视图转发器，当请求 / 的时候，转到index.html网站，否则无法加载出来css等资源
        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);
        registry.addViewController(&quot;/index.html&quot;).setViewName(&quot;index&quot;);
        //当请求为/main.html的时候，就跳转到dashboard.html中
        registry.addViewController(&quot;/main.html&quot;).setViewName(&quot;dashboard&quot;);
//        registry.addViewController(&quot;/test.html&quot;).setViewName(&quot;list&quot;);
    }

    //自定义的国际化组件就生效了
    @Bean
    public LocaleResolver localeResolver() {
        return new MyLocaleResolver();
    }
}
</code></pre>
                    <h1 id="14-">14、员工管理系统：登陆拦截器</h1>
                    <p>创建实体类LoginHandlerInterceptor，用于实现登陆拦截器的功能</p>
                    <pre><code class="lang-java">//实现登陆拦截器
public class LoginHandlerInterceptor implements HandlerInterceptor {

    //返回true就是放行，返回false就是不放行
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
//        return HandlerInterceptor.super.preHandle(request, response, handler);

        //登陆成功之后，应该有用户的session
        Object loginUser = request.getSession().getAttribute(&quot;loginUser&quot;);
        //不是登陆进来的，不让进入
        if (loginUser == null) {
            request.setAttribute(&quot;msg&quot;,&quot;请先登陆!!!&quot;);
            request.getRequestDispatcher(&quot;/index.html&quot;).forward(request,response);
            return false;
        }else {
            return true;
        }
    }

}
</code></pre>
                    <p>在LoginController类中，修改一下，如果成功登陆的话，提交一个session，用于拦截器判断</p>
                    <pre><code class="lang-java">@Controller
public class LoginController {

    @RequestMapping(&quot;/user/login&quot;)
    public String login(@RequestParam(&quot;username&quot;) String username,
                        @RequestParam(&quot;password&quot;) String password,
                        Model model, HttpSession session) {
        //具体的业务
        if (!StringUtils.isEmpty(username) &amp;&amp; password.equals(&quot;123456&quot;)) {
            //用于实现登陆拦截器
            session.setAttribute(&quot;loginUser&quot;,username);
            return &quot;redirect:/main.html&quot;;
        }else {
            //登陆失败
            model.addAttribute(&quot;msg&quot;,&quot;密码错误!!!&quot;);
            return &quot;index&quot;;
        }
    }
}
</code></pre>
                    <p>最后将写好的LoginHandlerInterceptor类，配置到SpringBoot里</p>
                    <p>通过MyMvcConfig进行配置</p>
                    <pre><code class="lang-java">//配置了所有的映射资源
@Configuration
public class MyMvcConfig implements WebMvcConfigurer {

    @Override
    public void addViewControllers(ViewControllerRegistry registry) {
        //重写视图转发器，当请求 / 的时候，转到index.html网站，否则无法加载出来css等资源
        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);
        registry.addViewController(&quot;/index.html&quot;).setViewName(&quot;index&quot;);
        //当请求为/main.html的时候，就跳转到dashboard.html中
        registry.addViewController(&quot;/main.html&quot;).setViewName(&quot;dashboard&quot;);
//        registry.addViewController(&quot;/test.html&quot;).setViewName(&quot;list&quot;);
    }

    //自定义的国际化组件就生效了
    @Bean
    public LocaleResolver localeResolver() {
        return new MyLocaleResolver();
    }

    //配置自定义的拦截器
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(new LoginHandlerInterceptor())
               .addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/index.html&quot;,
                        &quot;/&quot;,&quot;/user/login&quot;,&quot;/static/**&quot;);
    }
}
</code></pre>
                    <p>在网页中，可以使用 [[${session.loginUser}]] 来动态显示loginUser的信息</p>
                    <h1 id="15-">15、员工管理系统：展示员工列表</h1>
                    <p>首先创建一个公共页面，用于抽取dashboard和list页面的公共内容，导航栏和侧栏</p>
                    <p>这样可以实现代码的复用，修改更加简单方便</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;

&lt;!--头部导航栏--&gt;
&lt;nav class=&quot;navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0&quot; th:fragment=&quot;topbar&quot;&gt;
  &lt;a class=&quot;navbar-brand col-sm-3 col-md-2 mr-0&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;[[${session.loginUser}]]&lt;/a&gt;
  &lt;input class=&quot;form-control form-control-dark w-100&quot; type=&quot;text&quot; placeholder=&quot;Search&quot; aria-label=&quot;Search&quot;&gt;
  &lt;ul class=&quot;navbar-nav px-3&quot;&gt;
    &lt;li class=&quot;nav-item text-nowrap&quot;&gt;
      &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;注销&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;

&lt;!--侧边栏--&gt;
&lt;nav class=&quot;col-md-2 d-none d-md-block bg-light sidebar&quot; th:fragment=&quot;sidebar&quot;&gt;
  &lt;div class=&quot;sidebar-sticky&quot;&gt;
    &lt;ul class=&quot;nav flex-column&quot;&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a th:class=&quot;${active==&#39;main.html&#39;?&#39;nav-link active&#39;:&#39;nav-link&#39;}&quot; th:href=&quot;@{/main.html}&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-home&quot;&gt;
            &lt;path d=&quot;M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;9 22 9 12 15 12 15 22&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          首页 &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-file&quot;&gt;
            &lt;path d=&quot;M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;13 2 13 9 20 9&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Orders
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-shopping-cart&quot;&gt;
            &lt;circle cx=&quot;9&quot; cy=&quot;21&quot; r=&quot;1&quot;&gt;&lt;/circle&gt;
            &lt;circle cx=&quot;20&quot; cy=&quot;21&quot; r=&quot;1&quot;&gt;&lt;/circle&gt;
            &lt;path d=&quot;M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6&quot;&gt;&lt;/path&gt;
          &lt;/svg&gt;
          Products
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a th:class=&quot;${active==&#39;list.html&#39;?&#39;nav-link active&#39;:&#39;nav-link&#39;}&quot; th:href=&quot;@{/emps}&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-users&quot;&gt;
            &lt;path d=&quot;M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2&quot;&gt;&lt;/path&gt;
            &lt;circle cx=&quot;9&quot; cy=&quot;7&quot; r=&quot;4&quot;&gt;&lt;/circle&gt;
            &lt;path d=&quot;M23 21v-2a4 4 0 0 0-3-3.87&quot;&gt;&lt;/path&gt;
            &lt;path d=&quot;M16 3.13a4 4 0 0 1 0 7.75&quot;&gt;&lt;/path&gt;
          &lt;/svg&gt;
          员工管理
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-bar-chart-2&quot;&gt;
            &lt;line x1=&quot;18&quot; y1=&quot;20&quot; x2=&quot;18&quot; y2=&quot;10&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;12&quot; y1=&quot;20&quot; x2=&quot;12&quot; y2=&quot;4&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;6&quot; y1=&quot;20&quot; x2=&quot;6&quot; y2=&quot;14&quot;&gt;&lt;/line&gt;
          &lt;/svg&gt;
          Reports
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-layers&quot;&gt;
            &lt;polygon points=&quot;12 2 2 7 12 12 22 7 12 2&quot;&gt;&lt;/polygon&gt;
            &lt;polyline points=&quot;2 17 12 22 22 17&quot;&gt;&lt;/polyline&gt;
            &lt;polyline points=&quot;2 12 12 17 22 12&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Integrations
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;h6 class=&quot;sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted&quot;&gt;
      &lt;span&gt;Saved reports&lt;/span&gt;
      &lt;a class=&quot;d-flex align-items-center text-muted&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-plus-circle&quot;&gt;&lt;circle cx=&quot;12&quot; cy=&quot;12&quot; r=&quot;10&quot;&gt;&lt;/circle&gt;&lt;line x1=&quot;12&quot; y1=&quot;8&quot; x2=&quot;12&quot; y2=&quot;16&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;8&quot; y1=&quot;12&quot; x2=&quot;16&quot; y2=&quot;12&quot;&gt;&lt;/line&gt;&lt;/svg&gt;
      &lt;/a&gt;
    &lt;/h6&gt;
    &lt;ul class=&quot;nav flex-column mb-2&quot;&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-file-text&quot;&gt;
            &lt;path d=&quot;M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;14 2 14 8 20 8&quot;&gt;&lt;/polyline&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;13&quot; x2=&quot;8&quot; y2=&quot;13&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;17&quot; x2=&quot;8&quot; y2=&quot;17&quot;&gt;&lt;/line&gt;
            &lt;polyline points=&quot;10 9 9 9 8 9&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Current month
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-file-text&quot;&gt;
            &lt;path d=&quot;M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;14 2 14 8 20 8&quot;&gt;&lt;/polyline&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;13&quot; x2=&quot;8&quot; y2=&quot;13&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;17&quot; x2=&quot;8&quot; y2=&quot;17&quot;&gt;&lt;/line&gt;
            &lt;polyline points=&quot;10 9 9 9 8 9&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Last quarter
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-file-text&quot;&gt;
            &lt;path d=&quot;M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;14 2 14 8 20 8&quot;&gt;&lt;/polyline&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;13&quot; x2=&quot;8&quot; y2=&quot;13&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;17&quot; x2=&quot;8&quot; y2=&quot;17&quot;&gt;&lt;/line&gt;
            &lt;polyline points=&quot;10 9 9 9 8 9&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Social engagement
        &lt;/a&gt;
      &lt;/li&gt;
      &lt;li class=&quot;nav-item&quot;&gt;
        &lt;a class=&quot;nav-link&quot; href=&quot;http://getbootstrap.com/docs/4.0/examples/dashboard/#&quot;&gt;
          &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;feather feather-file-text&quot;&gt;
            &lt;path d=&quot;M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z&quot;&gt;&lt;/path&gt;
            &lt;polyline points=&quot;14 2 14 8 20 8&quot;&gt;&lt;/polyline&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;13&quot; x2=&quot;8&quot; y2=&quot;13&quot;&gt;&lt;/line&gt;
            &lt;line x1=&quot;16&quot; y1=&quot;17&quot; x2=&quot;8&quot; y2=&quot;17&quot;&gt;&lt;/line&gt;
            &lt;polyline points=&quot;10 9 9 9 8 9&quot;&gt;&lt;/polyline&gt;
          &lt;/svg&gt;
          Year-end sale
        &lt;/a&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/nav&gt;

&lt;/html&gt;
</code></pre>
                    <p>在list和dashboard中对应的位置进行引用即可</p>
                    <p>在（）内，进行传递参数的编写</p>
                    <pre><code class="lang-html">&lt;!--顶部导航栏--&gt;
&lt;div th:replace=&quot;~{/commons/commons::topbar}&quot;&gt;&lt;/div&gt;
&lt;!--侧边栏，传递参数给组件，让被选中的侧边一项高亮--&gt;
                &lt;div th:replace=&quot;~{/commons/commons::sidebar(active=&#39;main.html&#39;)}&quot;&gt;&lt;/div&gt;
</code></pre>
                    <p>创建EmployeeController实体类，实现/emps接口，完成点击用户管理，然后页面跳转的功能</p>
                    <pre><code class="lang-java">@Controller
public class EmployeeController {

    @Autowired
    EmployeeDao employeeDao;

    @RequestMapping(&quot;/emps&quot;)
    public String list(Model model) {
        Collection&lt;Employee&gt; employees = employeeDao.getAll();
        model.addAttribute(&quot;msg&quot;,employees);
        return &quot;emp/list&quot;;
    }
}
</code></pre>
                    <p>在list.html页面，通过获取到msg，从而取得employees对象，然后将对象的内容显示出来</p>
                    <pre><code class="lang-html">&lt;div class=&quot;container-fluid&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;!--                侧边栏--&gt;
        &lt;div th:replace=&quot;~{/commons/commons::sidebar(active=&#39;list.html&#39;)}&quot;&gt;&lt;/div&gt;

        &lt;main role=&quot;main&quot; class=&quot;col-md-9 ml-sm-auto col-lg-10 pt-3 px-4&quot;&gt;
            &lt;h2&gt;员工列表&lt;/h2&gt;
            &lt;div class=&quot;table-responsive&quot;&gt;
                &lt;table class=&quot;table table-striped table-sm&quot;&gt;
                    &lt;thead&gt;
                        &lt;tr align=&quot;center&quot;&gt;
                            &lt;th&gt;id&lt;/th&gt;
                            &lt;th&gt;lastName&lt;/th&gt;
                            &lt;th&gt;email&lt;/th&gt;
                            &lt;th&gt;gender&lt;/th&gt;
                            &lt;th&gt;department&lt;/th&gt;
                            &lt;th&gt;birth&lt;/th&gt;
                            &lt;th&gt;操作&lt;/th&gt;
                        &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                        &lt;tr th:each=&quot;emp:${msg}&quot; align=&quot;center&quot;&gt;
                            &lt;td th:text=&quot;${emp.getId()}&quot;&gt;&lt;/td&gt;
                            &lt;td th:text=&quot;${emp.getLastName()}&quot;&gt;&lt;/td&gt;
                            &lt;td th:text=&quot;${emp.getEmail()}&quot;&gt;&lt;/td&gt;
                            &lt;td th:text=&quot;${emp.getGender()}==0?&#39;女&#39; : &#39;男&#39;&quot;&gt;&lt;/td&gt;
                            &lt;td th:text=&quot;${emp.department.getDepartmentName()}&quot;&gt;&lt;/td&gt;
                            &lt;td th:text=&quot;${#dates.format(emp.getBirth(),&#39;yyyy-MM-dd&#39;)}&quot;&gt;&lt;/td&gt;
                            &lt;td&gt;
                                &lt;button class=&quot;btn btn-sm btn-primary&quot;&gt;编辑&lt;/button&gt;
                                &lt;button class=&quot;btn btn-sm btn-danger&quot;&gt;删除&lt;/button&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/main&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
                    <h1 id="16-">16、员工管理系统：增加员工</h1>
                    <p>在EmployeeController实体类中，进行接口编写</p>
                    <pre><code class="lang-java">//点击增加员工后，通过get方法，走该方法，打开添加页面，并且加载需要的相关数据
@GetMapping(&quot;/emp&quot;)
public String toAddpage(Model model) {
    //跳转时，查出所有部门的信息
    Collection&lt;Department&gt; departments = departmentDao.getDepartments();
    model.addAttribute(&quot;departments&quot;,departments);
    return &quot;emp/add&quot;;
}

//填写完员工信息之后，点击提交，走该方法，成功提交，则重定向到员工列表展示页面
@PostMapping(&quot;/emp&quot;)
public String addEmp(Employee employee) {
    //添加员工的操作
    employeeDao.save(employee);

    return &quot;redirect:/emps&quot;;
}
</code></pre>
                    <p>编写对应的add界面，用于进行员工的增加操作</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ --&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;

    &lt;head&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;

        &lt;title&gt;员工管理&lt;/title&gt;
        &lt;!-- Bootstrap core CSS --&gt;
        &lt;link th:href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;&gt;

        &lt;!-- Custom styles for this template --&gt;
        &lt;link th:href=&quot;@{/css/dashboard.css}&quot; rel=&quot;stylesheet&quot;&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            /* Chart.js */

            @-webkit-keyframes chartjs-render-animation {
                from {
                    opacity: 0.99
                }
                to {
                    opacity: 1
                }
            }

            @keyframes chartjs-render-animation {
                from {
                    opacity: 0.99
                }
                to {
                    opacity: 1
                }
            }

            .chartjs-render-monitor {
                -webkit-animation: chartjs-render-animation 0.001s;
                animation: chartjs-render-animation 0.001s;
            }
        &lt;/style&gt;
    &lt;/head&gt;

    &lt;body&gt;
&lt;!--        导航栏，引用dashboard.html中写好的，直接复用，修改方便--&gt;
        &lt;div th:replace=&quot;~{/commons/commons::topbar}&quot;&gt;&lt;/div&gt;

        &lt;div class=&quot;container-fluid&quot;&gt;
            &lt;div class=&quot;row&quot;&gt;
&lt;!--                侧边栏--&gt;
                &lt;div th:replace=&quot;~{/commons/commons::sidebar(active=&#39;list.html&#39;)}&quot;&gt;&lt;/div&gt;

                &lt;main role=&quot;main&quot; class=&quot;col-md-9 ml-sm-auto col-lg-10 pt-3 px-4&quot;&gt;
                    &lt;!--添加员工时的表单--&gt;
                    &lt;form th:action=&quot;@{/emp}&quot; method=&quot;post&quot;&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;LastName&lt;/label&gt;
                            &lt;input type=&quot;text&quot; name=&quot;lastName&quot; class=&quot;form-control&quot; placeholder=&quot;小孟儿&quot;&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Email&lt;/label&gt;
                            &lt;input type=&quot;email&quot; name=&quot;email&quot; class=&quot;form-control&quot; placeholder=&quot;1411159144@qq.com&quot;&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Gender&lt;/label&gt;&lt;br&gt;
                            &lt;div class=&quot;form-check form-check-inline&quot;&gt;
                                &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot;&gt;
                                &lt;label class=&quot;form-check-label&quot;&gt;男&lt;/label&gt;
                            &lt;/div&gt;
                            &lt;div class=&quot;form-check form-check-inline&quot;&gt;
                                &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot;&gt;
                                &lt;label class=&quot;form-check-label&quot;&gt;女&lt;/label&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;department&lt;/label&gt;
                            &lt;select class=&quot;form-control&quot; name=&quot;department.id&quot;&gt;
                                &lt;!--text是显示出来的值，value是后台要用的值--&gt;
                                &lt;option th:each=&quot;dept:${departments}&quot; th:text=&quot;${dept.getDepartmentName()}&quot;
                                        th:value=&quot;${dept.getId()}&quot; &gt;&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Birth&lt;/label&gt;
                            &lt;input type=&quot;text&quot; name=&quot;birth&quot; class=&quot;form-control&quot; placeholder=&quot;2020/10/12&quot;&gt;
                        &lt;/div&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;添加&lt;/button&gt;
                    &lt;/form&gt;

                &lt;/main&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Bootstrap core JavaScript
    ================================================== --&gt;
        &lt;!-- Placed at the end of the document so the pages load faster --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/jquery-3.2.1.slim.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/popper.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;

        &lt;!-- Icons --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/feather.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script&gt;
            feather.replace()
        &lt;/script&gt;

        &lt;!-- Graphs --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/Chart.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script&gt;
            var ctx = document.getElementById(&quot;myChart&quot;);
            var myChart = new Chart(ctx, {
                type: &#39;line&#39;,
                data: {
                    labels: [&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;],
                    datasets: [{
                        data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],
                        lineTension: 0,
                        backgroundColor: &#39;transparent&#39;,
                        borderColor: &#39;#007bff&#39;,
                        borderWidth: 4,
                        pointBackgroundColor: &#39;#007bff&#39;
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: false
                            }
                        }]
                    },
                    legend: {
                        display: false,
                    }
                }
            });
        &lt;/script&gt;

    &lt;/body&gt;

&lt;/html&gt;
</code></pre>
                    <h1 id="17-">17、员工管理系统：修改员工信息</h1>
                    <p> 在list.html中，添加跳转接口 /emp/id 的形式</p>
                    <pre><code class="lang-html">&lt;a class=&quot;btn btn-sm btn-primary&quot; th:href=&quot;@{/emp/{empId}(empId=${emp.id})}&quot;&gt;编辑&lt;/a&gt;
</code></pre>
                    <p>在EmployeeController类中，编写对应的接口</p>
                    <pre><code class="lang-java">//点击编辑员工后，跳转到员工的修改页面
@GetMapping(&quot;/emp/{id}&quot;)
public String toUpdateEmp(@PathVariable(&quot;id&quot;) Integer id,Model model) {
    //查出原来的数据
    Employee employee = employeeDao.getEmployeeById(id);
    model.addAttribute(&quot;emp&quot;,employee);

    //查出所有部门的信息
    Collection&lt;Department&gt; departments = departmentDao.getDepartments();
    model.addAttribute(&quot;departments&quot;,departments);

    return &quot;emp/update&quot;;
}
</code></pre>
                    <p>创建对应的update.html在templates文件夹下的emp文件夹中</p>
                    <p>由于保存修改之后的员工的操作与增加员工后保存的操作一致，所以直接调用之前的接口即可  （/emp 接口）</p>
                    <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ --&gt;
&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;

    &lt;head&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;
        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;
        &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;

        &lt;title&gt;员工管理&lt;/title&gt;
        &lt;!-- Bootstrap core CSS --&gt;
        &lt;link th:href=&quot;@{/css/bootstrap.min.css}&quot; rel=&quot;stylesheet&quot;&gt;

        &lt;!-- Custom styles for this template --&gt;
        &lt;link th:href=&quot;@{/css/dashboard.css}&quot; rel=&quot;stylesheet&quot;&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            /* Chart.js */

            @-webkit-keyframes chartjs-render-animation {
                from {
                    opacity: 0.99
                }
                to {
                    opacity: 1
                }
            }

            @keyframes chartjs-render-animation {
                from {
                    opacity: 0.99
                }
                to {
                    opacity: 1
                }
            }

            .chartjs-render-monitor {
                -webkit-animation: chartjs-render-animation 0.001s;
                animation: chartjs-render-animation 0.001s;
            }
        &lt;/style&gt;
    &lt;/head&gt;

    &lt;body&gt;
&lt;!--        导航栏，引用dashboard.html中写好的，直接复用，修改方便--&gt;
        &lt;div th:replace=&quot;~{/commons/commons::topbar}&quot;&gt;&lt;/div&gt;

        &lt;div class=&quot;container-fluid&quot;&gt;
            &lt;div class=&quot;row&quot;&gt;
&lt;!--                侧边栏--&gt;
                &lt;div th:replace=&quot;~{/commons/commons::sidebar(active=&#39;list.html&#39;)}&quot;&gt;&lt;/div&gt;

                &lt;main role=&quot;main&quot; class=&quot;col-md-9 ml-sm-auto col-lg-10 pt-3 px-4&quot;&gt;
                    &lt;!--添加员工时的表单--&gt;
                    &lt;form th:action=&quot;@{/emp}&quot; method=&quot;post&quot;&gt;
                        &lt;!--通过隐藏域携带上id--&gt;
                        &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${emp.getId()}&quot;&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;LastName&lt;/label&gt;
                            &lt;input type=&quot;text&quot; name=&quot;lastName&quot; class=&quot;form-control&quot; th:value=&quot;${emp.getLastName()}&quot;&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Email&lt;/label&gt;
                            &lt;input type=&quot;email&quot; name=&quot;email&quot; class=&quot;form-control&quot; th:value=&quot;${emp.getEmail()}&quot;&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Gender&lt;/label&gt;&lt;br&gt;
                            &lt;div class=&quot;form-check form-check-inline&quot;&gt;
                                &lt;input th:checked=&quot;${emp.getGender()==1}&quot; class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;1&quot;&gt;
                                &lt;label class=&quot;form-check-label&quot;&gt;男&lt;/label&gt;
                            &lt;/div&gt;
                            &lt;div class=&quot;form-check form-check-inline&quot;&gt;
                                &lt;input th:checked=&quot;${emp.getGender()==0}&quot; class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;0&quot;&gt;
                                &lt;label class=&quot;form-check-label&quot;&gt;女&lt;/label&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;department&lt;/label&gt;
                            &lt;!--这里要传department.id!!因为下边option里提交的是id，所以这里也是对应id--&gt;
                            &lt;select class=&quot;form-control&quot; name=&quot;department.id&quot;&gt;
                                &lt;!--text是显示出来的值，value是后台要用的值--&gt;
                                &lt;option th:selected=&quot;${dept.getId()==emp.getDepartment().getId()}&quot;
                                        th:each=&quot;dept:${departments}&quot;
                                        th:text=&quot;${dept.getDepartmentName()}&quot;
                                        th:value=&quot;${dept.getId()}&quot; &gt;&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;form-group&quot;&gt;
                            &lt;label&gt;Birth&lt;/label&gt;
                            &lt;input type=&quot;text&quot; name=&quot;birth&quot; class=&quot;form-control&quot; th:value=&quot;${#dates.format(emp.getBirth(),&#39;yyyy/MM/dd&#39;)}&quot;&gt;
                        &lt;/div&gt;
                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;修改&lt;/button&gt;
                    &lt;/form&gt;

                &lt;/main&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Bootstrap core JavaScript
    ================================================== --&gt;
        &lt;!-- Placed at the end of the document so the pages load faster --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/jquery-3.2.1.slim.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/popper.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;

        &lt;!-- Icons --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/feather.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script&gt;
            feather.replace()
        &lt;/script&gt;

        &lt;!-- Graphs --&gt;
        &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/Chart.min.js}&quot;&gt;&lt;/script&gt;
        &lt;script&gt;
            var ctx = document.getElementById(&quot;myChart&quot;);
            var myChart = new Chart(ctx, {
                type: &#39;line&#39;,
                data: {
                    labels: [&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;],
                    datasets: [{
                        data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],
                        lineTension: 0,
                        backgroundColor: &#39;transparent&#39;,
                        borderColor: &#39;#007bff&#39;,
                        borderWidth: 4,
                        pointBackgroundColor: &#39;#007bff&#39;
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: false
                            }
                        }]
                    },
                    legend: {
                        display: false,
                    }
                }
            });
        &lt;/script&gt;

    &lt;/body&gt;

&lt;/html&gt;
</code></pre>
                    <h1 id="18-404-">18、员工管理系统：删除及404处理</h1>
                    <p>首先在，list.html，文件中，给删除按钮，绑定一个接口</p>
                    <pre><code class="lang-html">&lt;a class=&quot;btn btn-sm btn-danger&quot; th:href=&quot;@{/delemp/{empId}(empId=${emp.id})}&quot;&gt;删除&lt;/a&gt;
</code></pre>
                    <p>在类中，实现该接口的功能</p>
                    <pre><code class="lang-java">//点击删除员工后，删除员工信息
@GetMapping(&quot;/delemp/{id}&quot;)
public String deleteEmp(@PathVariable(&quot;id&quot;) Integer id) {
    employeeDao.delete(id);
    return &quot;redirect:/emps&quot;;
}
</code></pre>
                    <p>进行404处理，只需要将写好的404.html文件，放到templates文件夹的error文件夹中即可</p>
                    <p>当发生404错误的时候，springboot就会直接去访问这个文件，并显示出来</p>
                    <p><strong>完成注销操作</strong></p>
                    <p>在commons.html文件的头部导航栏中，添加接口去完成注销操作</p>
                    <pre><code class="lang-html">&lt;a class=&quot;nav-link&quot; th:href=&quot;@{/user/logout}&quot;&gt;注销&lt;/a&gt;
</code></pre>
                    <p>在LoginController类中，编写对应的接口</p>
                    <pre><code class="lang-java">//用于实现用户的注销功能
@RequestMapping(&quot;/user/logout&quot;)
public String logout(HttpSession session) {
    //销毁当前创建的session
    session.invalidate();
    return &quot;redirect:/index.html&quot;;
}
</code></pre>
                    <h1 id="19-">19、如何写一个网站</h1>
                    <p>前端：</p>
                    <ul>
                        <li>模板：别人写好的，我们拿来改成自己需要的</li>
                        <li>框架：组件：自己手动组合拼接！  BootStrap（<a href="http://www.bootstrapmb.com/">Bootstrap模板_响应式网站模板 - Bootstrap模板库 (bootstrapmb.com)</a>），Layui<ul>
                            <li>需要了解一下内容（最起码）</li>
                            <li>栅格系统：BootStrap，Layui都是将屏幕分成了12份</li>
                            <li>导航栏</li>
                            <li>侧边栏</li>
                            <li>表单</li>
                        </ul>
                        </li>
                    </ul>
                    <p>数据库：</p>
                    <ul>
                        <li>设计前端的时候，要思考用什么数据，构建数据表</li>
                    </ul>
                    <p>后端：</p>
                    <ul>
                        <li>前端写好后，思考后端如何与之对接</li>
                        <li>后台模板：x-admin</li>
                    </ul>
                    <p>最后：前后端联调测试！</p>

                </article>
            </div>
        </div>

		<!--footer部分-->
	    <div th:replace="~{/commons/commons::footer_bar}"></div>
    
    </div><!--//main-wrapper-->
    

        
       
    <!-- Javascript -->          
    <script th:src="@{/plugins/popper.min.js}"></script>
    <script th:src="@{/plugins/bootstrap/js/bootstrap.js/bootstrap.min.js}"></script>

    <!-- Page Specific JS -->
<!--    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>-->

    <!-- Custom JS -->
    <script th:src="@{/js/blog.js}"></script>
    

</body>
</html> 

